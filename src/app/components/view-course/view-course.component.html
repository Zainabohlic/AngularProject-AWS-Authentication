<div class="container mt-4">
  <h2>Courses</h2>
  <div *ngIf="isLoading" class="text-center">Loading...</div>
  <table class="table table-striped" *ngIf="!isLoading">
    <thead>
      <tr>
        <th>Course ID</th>
        <th>Course Name</th>
        <th>Prerequisite</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let course of courses">
        <td>{{ course.courseId }}</td>
        <td>{{ course.courseName }}</td>
        <td>{{ course.prerequisite || 'None' }}</td>
        <td>
          <!-- <button class="btn btn-primary" (click)="viewCourseDetails(course.courseId)">View</button> -->
          <button class="btn btn-secondary ms-2" (click)="openUpdateModal(course)">Update</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<!-- Modal Template -->
<ng-template #updateModal let-modal>
  <div class="modal-header">
    <h5 class="modal-title">Update Course</h5>
    <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
  </div>
  <div class="modal-body">
    <form (ngSubmit)="updateCourse()">
      <div class="mb-3">
        <label for="courseName" class="form-label">Course Name</label>
        <input type="text" id="courseName" class="form-control" [(ngModel)]="selectedCourse.courseName" name="courseName" required>
      </div>
      <div class="mb-3">
        <label for="prerequisite" class="form-label">Prerequisite</label>
        <input type="text" id="prerequisite" class="form-control" [(ngModel)]="selectedCourse.prerequisite" name="prerequisite">
      </div>
      <button type="submit" class="btn btn-primary">Update</button>
    </form>
  </div>
</ng-template>
